import Tabs from '@theme/Tabs'
import TabItem from '@theme/TabItem'

# `Nil.js`: getting started

## Overview

`Nil.js` is a JS/TS library providing all essential tools for interacting with =nil;. 

## Installation and usage

The library can be installed similarly to any other NPM module.

<Tabs groupId='packageSystem'>
  <TabItem value='npm' label='npm'>
    ```bash
    npm install @nilfoundation/niljs
    ```
  </TabItem>
  <TabItem value='yarn' label='yarn'>
    ```bash
    yarn add @nilfoundation/niljs
    ```
  </TabItem>
</Tabs>

Afterward, import the necessary functions and classes from the library:

```js
import { ... } from "@nilfoundation/niljs";
```

:::tip[Addresses]

When working with `Nil.js`, make sure that all hardcoded addresses are in lowercase. If an address is generated by `Nil.js`, there is no need to perform additional modifications on it.

:::

## Key members

Here is a non-exhaustive list of 'helper' classes and functions provided by `Nil.js`:

| Name | What id does |
|:--:|:--|
| `PublicClient` | Allows for interacting with =nil; in ways that do not require authorization. |
| `SmartAccountV1` | Provides an instance of a new 'default' smart account. |
| `generateSmartAccount()` | Deploys a new 'default' smart account on the cluster and tops it up. |
| `SmartAccountV1.deployContract()` | Deploys a smart contract via a previously deployed smart account. |
| `SmartAccountV1.sendMessage()` | Sends a message to a smart contract via previously deployed smart account. |
| `FaucetClient` | Provides an instance of a client interacting with the faucet service. |
| `FaucetClient.topUpAndWaitUntilCompletion()` | Tops up a smart contract from the specified faucet. |
| `CometaClient` | Allows for interacting with the Cometa service. |
| `CometaClient.registerContractData()` | Registers a smart contract inside the Cometa service. |

To see all members exposed by `Nil.js`, proceed to [**the 'References' section**](../reference/client/index.mdx).

:::info

The testnet RPC endpoint provides access to the cluster and all related services including the faucet service and the Cometa service.

When running the cluster, the faucet service and the Cometa service locally, their endpoints will be different. This will require providing different endpoints when creating instances of `PublicClient`, `FaucetClient` and `CometaClient`.

:::

## Sample `Node.js` project

`Nil.js` can be easily used with `Node.js` to interact with =nil; on the server.

### Project set-up

First, create a new file titled `server.js` in an environment where Node.js is installed.

Then, import the following components and initialize the following variables:

```ts showLineNumbers file=../../tests/nodeJsProject/server.js start=startImport end=endImport
```

### Server code

The server will initialize a new smart account and, once smart account creation ends, show its address in the browser window:

```ts showLineNumbers file=../../tests/nodeJsProject/server.js start=startServer end=endServer
```

### Interacting with the server

To launch the server:

```
node path/to/server.js
```

After the server is launched, open `http://127.0.0.1:3000/` in the browser and wait a couple of seconds while the project creates a new smart account.

Alternatively, run the following snippet to fetch the smart account address once the server calculates it:

```ts showLineNumbers
const response = await fetch("http://127.0.0.1:3000/");
const text = await response.text();
console.log(test);
```
